# ๐ช Store Management System v1
## ูุธุงู ุฅุฏุงุฑุฉ ุงููุชุงุฌุฑ ูุงููุฎุงุฒู

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![PHP](https://img.shields.io/badge/PHP-8.0%2B-blue)](https://www.php.net/)
[![MySQL](https://img.shields.io/badge/MySQL-5.7%2B-orange)](https://www.mysql.com/)
[![Version](https://img.shields.io/badge/version-1.0.0-green)](https://github.com/mostafa-hessen/devopmetn_store_managment)

ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุงููุชุงุฌุฑ ูุงููุฎุงุฒู ุจุงููุบุฉ ุงูุนุฑุจูุฉุ ูุดูู ุฅุฏุงุฑุฉ ุงููุฎุฒููุ ุงูููุงุชูุฑุ ุงูุนููุงุกุ ุงูููุฑุฏููุ ูุงูุชูุงุฑูุฑ ุงููุงููุฉ.

---

## ๐ ุงููุญุชููุงุช

- [ุงููููุฒุงุช](#-ุงููููุฒุงุช)
- [ุงููุชุทูุจุงุช](#-ุงููุชุทูุจุงุช)
- [ุงูุชุซุจูุช](#-ุงูุชุซุจูุช)
- [ุงูุจููุฉ ุงูุชุญุชูุฉ](#-ุงูุจููุฉ-ุงูุชุญุชูุฉ)
- [ุงููุญุฏุงุช ุงูุฑุฆูุณูุฉ](#-ุงููุญุฏุงุช-ุงูุฑุฆูุณูุฉ)
- [API Documentation](#-api-documentation)
- [ูุงุนุฏุฉ ุงูุจูุงูุงุช](#-ูุงุนุฏุฉ-ุงูุจูุงูุงุช)
- [ุงูุงุณุชุฎุฏุงู](#-ุงูุงุณุชุฎุฏุงู)
- [ุงููุณุงููุฉ](#-ุงููุณุงููุฉ)
- [ุงูุชุฑุฎูุต](#-ุงูุชุฑุฎูุต)

---

## โจ ุงููููุฒุงุช

### ๐ฏ ุงูููุฒุงุช ุงูุฃุณุงุณูุฉ
- โ **ุฅุฏุงุฑุฉ ุงููุฎุฒูู ุงูุฐููุฉ** - ูุธุงู ุฏูุนุงุช (Batches) ูุชุชุจุน ุงููุฎุฒูู
- โ **ูุธุงู FIFO** - First In, First Out ูุญุณุงุจ ุงูุชูุงููู
- โ **ููุงุชูุฑ ุงูุจูุน ูุงูุดุฑุงุก** - ุฅุฏุงุฑุฉ ูุงููุฉ ููููุงุชูุฑ
- โ **ุฅุฏุงุฑุฉ ุงูุนููุงุก ูุงูููุฑุฏูู** - ูุงุนุฏุฉ ุจูุงูุงุช ุดุงููุฉ
- โ **ูุธุงู ุงููุฑุชุฌุนุงุช** - ูุนุงูุฌุฉ ูุฑุชุฌุนุงุช ุงูุจูุน ูุงูุดุฑุงุก
- โ **ุงูุชูุงุฑูุฑ ุงููุงููุฉ** - ุชูุงุฑูุฑ ุงูุฃุฑุจุงุญ ูุงูุฎุณุงุฆุฑ
- โ **ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู** - ุตูุงุญูุงุช ูุชุนุฏุฏุฉ ุงููุณุชููุงุช
- โ **ุชุนุฏุฏ ุงูุนููุงุช ูุงูุฎุตููุงุช** - ุฎุตููุงุช ุนูู ูุณุชูู ุงููุงุชูุฑุฉ ูุงูููุชุฌ

### ๐ ุงูุชูุงุฑูุฑ ุงููุชูุฏูุฉ
- ๐ ุชูุฑูุฑ ุงููุจูุนุงุช ุงูุฏูุฑูุฉ
- ๐ฐ ุชูุฑูุฑ ุงูุฃุฑุจุงุญ ุงูุฅุฌูุงููุฉ
- ๐ฆ ุชูุฑูุฑ ุญุฑูุฉ ุงููุฎุฒูู
- ๐ฅ ุชูุฑูุฑ ุงูุนููุงุก ูุงูููุฑุฏูู
- ๐ ุชูุฑูุฑ ุงููุฑุชุฌุนุงุช

### ๐ ุงูุฃูุงู
- ๐ ูุธุงู ูุตุงุฏูุฉ ุงููุณุชุฎุฏููู
- ๐ก๏ธ ุญูุงูุฉ CSRF Token
- ๐ ุตูุงุญูุงุช ูุชุฏุฑุฌุฉ (Admin/User)
- ๐ ุชุณุฌูู ุฌููุน ุงูุนูููุงุช (Audit Trail)

---

## ๐ป ุงููุชุทูุจุงุช

### ูุชุทูุจุงุช ุงููุธุงู
- **PHP** >= 8.0
- **MySQL** >= 5.7 ุฃู **MariaDB** >= 10.4
- **Apache** 2.4+ ุฃู **Nginx**
- **XAMPP** / **WAMP** / **LAMP** (ููุชุทููุฑ ุงููุญูู)

### ููุชุจุงุช PHP ุงููุทููุจุฉ
```
- mysqli
- json
- session
- mbstring
```

---

## ๐ ุงูุชุซุจูุช

### 1๏ธโฃ ูุณุฎ ุงููุดุฑูุน
```bash
git clone https://github.com/mostafa-hessen/devopmetn_store_managment.git
cd devopmetn_store_managment
```

### 2๏ธโฃ ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
# ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
mysql -u root -p
CREATE DATABASE migration_store CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

ุงุณุชูุฑุงุฏ ุงูุจููุฉ ุงูุฃุณุงุณูุฉ:
```bash
mysql -u root -p migration_store < database/db.sql
```

ุงุณุชูุฑุงุฏ ุฌุฏุงูู ุงููุฑุชุฌุนุงุช:
```bash
mysql -u root -p migration_store < sql/create_purchase_returns_tables.sql
```

### 3๏ธโฃ ุชูููู ุงูุฅุนุฏุงุฏุงุช
ุนุฏูู ููู `config.php`:
```php
define('DB_SERVER', 'localhost');
define('DB_USERNAME', 'root');
define('DB_PASSWORD', '');
define('DB_NAME', 'migration_store');
```

### 4๏ธโฃ ุชุดุบูู ุงููุดุฑูุน
```bash
# ุฅุฐุง ููุช ุชุณุชุฎุฏู XAMPP
# ุงูุณุฎ ุงููุดุฑูุน ุฅูู C:\xampp\htdocs\store_v1
# ุซู ุงูุชุญ ุงููุชุตูุญ ุนูู:
http://localhost/store_v1
```

### 5๏ธโฃ ุชุณุฌูู ุงูุฏุฎูู
```
Username: admin
Password: (ุญุณุจ ูุง ุชู ุฅูุดุงุคู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช)
```

---

## ๐ ุงูุจููุฉ ุงูุชุญุชูุฉ

```
store_v1/
โโโ admin/                    # ููุญุฉ ุงูุชุญูู ุงูุฅุฏุงุฑูุฉ
โ   โโโ api/                 # APIs ุงูุฎุงุตุฉ ุจุงูุฅุฏุงุฑุฉ
โ   โโโ adjust_invoice.php   # ุชุนุฏูู ุงูููุงุชูุฑ
โ   โโโ gross_profit_report.php  # ุชูุฑูุฑ ุงูุฃุฑุจุงุญ
โ   โโโ sales_report_period.php  # ุชูุฑูุฑ ุงููุจูุนุงุช
โ
โโโ api/                     # REST APIs
โ   โโโ purchase/           # APIs ุงููุดุชุฑูุงุช
โ   โ   โโโ api_purchase_invoices.php
โ   โ   โโโ api_purchase_returns.php
โ   โโโ sales/              # APIs ุงููุจูุนุงุช
โ
โโโ purchase/               # ุฅุฏุงุฑุฉ ุงููุดุชุฑูุงุช
โ   โโโ purchase_invoices.php
โ
โโโ partials/               # ุงูููููุงุช ุงููุดุชุฑูุฉ
โ   โโโ header.php
โ   โโโ sidebar.php
โ   โโโ session_admin.php
โ
โโโ sql/                    # SQL Scripts
โ   โโโ create_purchase_returns_tables.sql
โ
โโโ database/              # ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โโโ db.sql
โ
โโโ config.php            # ููู ุงูุฅุนุฏุงุฏุงุช
โโโ README.md            # ูุฐุง ุงูููู
```

---

## ๐งฉ ุงููุญุฏุงุช ุงูุฑุฆูุณูุฉ

### 1. ุฅุฏุงุฑุฉ ุงููุฎุฒูู (Inventory Management)
- ูุธุงู ุงูุฏูุนุงุช (Batches) ูุชุชุจุน ุฏููู
- ุญุณุงุจ FIFO ุชููุงุฆู
- ุชูุจููุงุช ุงููุฎุฒูู ุงูููุฎูุถ
- ุชุชุจุน ุชูุงุฑูุฎ ุงูุตูุงุญูุฉ

### 2. ููุงุชูุฑ ุงูุจูุน (Sales Invoices)
- ุฅูุดุงุก ููุงุชูุฑ ูุน ุฎุตููุงุช ูุชุนุฏุฏุฉ
- ุฑุจุท ุจุงูุนููุงุก
- ุญุณุงุจ ุงูุฃุฑุจุงุญ ุชููุงุฆูุงู
- ุชุชุจุน ุญุงูุงุช ุงูููุงุชูุฑ (ูุนููุฉุ ููุชููุฉุ ููุบุงุฉ)

### 3. ููุงุชูุฑ ุงูุดุฑุงุก (Purchase Invoices)
- ุฅุฏุงุฑุฉ ุงููุดุชุฑูุงุช ูู ุงูููุฑุฏูู
- ุฅูุดุงุก ุฏูุนุงุช ุชููุงุฆูุงู
- ุชุชุจุน ุงูุงุณุชูุงู (ููู/ุฌุฒุฆู)
- ุฑุจุท ุจุณุนุฑ ุงูุจูุน

### 4. ุงููุฑุชุฌุนุงุช (Returns)
- ูุฑุชุฌุนุงุช ุงููุจูุนุงุช
- ูุฑุชุฌุนุงุช ุงููุดุชุฑูุงุช
- ุชุญุฏูุซ ุงููุฎุฒูู ุชููุงุฆูุงู
- ุชุชุจุน ุฃุณุจุงุจ ุงูุฅุฑุฌุงุน

### 5. ุงูุชูุงุฑูุฑ (Reports)
- **ุชูุฑูุฑ ุงููุจูุนุงุช ุงูุฏูุฑูุฉ**: ุชุญููู ุงููุจูุนุงุช ุจุงููุชุฑุฉ
- **ุชูุฑูุฑ ุงูุฃุฑุจุงุญ**: ุญุณุงุจ ุตุงูู ุงูุฑุจุญ
- **ุชูุฑูุฑ ุงููุฎุฒูู**: ุญุฑูุฉ ุงูููุชุฌุงุช
- **ุชูุฑูุฑ ุงูุนููุงุก**: ุฃูุถู ุงูุนููุงุก

---

## ๐ API Documentation

### Purchase Invoices API

#### ุฌูุจ ูุงุฆูุฉ ุงูููุงุชูุฑ
```http
GET /api/purchase/api_purchase_invoices.php?action=list_invoices
```

**Parameters:**
- `supplier_name` (optional): ุงุณู ุงูููุฑุฏ
- `status_filter_val` (optional): ุญุงูุฉ ุงููุงุชูุฑุฉ
- `date_from` (optional): ูู ุชุงุฑูุฎ
- `date_to` (optional): ุฅูู ุชุงุฑูุฎ

**Response:**
```json
{
  "success": true,
  "invoices": [...],
  "statistics": {
    "total_invoices": 10,
    "displayed_sum": 5000.00,
    "grand_total_all": 168088.94
  }
}
```

#### ุฌูุจ ูุงุชูุฑุฉ ูุญุฏุฏุฉ
```http
GET /api/purchase/api_purchase_invoices.php?action=fetch_invoice&id=123
```

#### ุงุณุชูุงู ูุงุชูุฑุฉ
```http
POST /api/purchase/api_purchase_invoices.php
Content-Type: application/json

{
  "action": "receive_invoice",
  "invoice_id": 123
}
```

### Purchase Returns API

#### ุฌูุจ ุฅุญุตุงุฆูุงุช ุงููุฑุชุฌุนุงุช
```http
GET /api/purchase/api_purchase_returns.php?action=statistics
```

#### ุฅูุดุงุก ูุฑุชุฌุน ุฌุฏูุฏ
```http
POST /api/purchase/api_purchase_returns.php
Content-Type: application/json

{
  "action": "create_return",
  "purchase_invoice_id": 123,
  "return_type": "supplier_return",
  "return_reason": "ุณุจุจ ุงูุฅุฑุฌุงุน",
  "items": [
    {
      "batch_id": 456,
      "quantity": 5,
      "reason": "ุชุงูู"
    }
  ]
}
```

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ

#### ๐ฆ products
ูุนูููุงุช ุงูููุชุฌุงุช ุงูุฃุณุงุณูุฉ
- `id`, `product_code`, `name`, `current_stock`
- `cost_price`, `selling_price`, `retail_price`

#### ๐ข suppliers
ุจูุงูุงุช ุงูููุฑุฏูู
- `id`, `name`, `mobile`, `city`, `address`

#### ๐ฅ customers
ุจูุงูุงุช ุงูุนููุงุก
- `id`, `name`, `mobile`, `city`, `address`

#### ๐ purchase_invoices
ููุงุชูุฑ ุงููุดุชุฑูุงุช
- `id`, `supplier_id`, `purchase_date`, `total_amount`
- `status` (pending, fully_received, cancelled)

#### ๐ purchase_invoice_items
ุจููุฏ ููุงุชูุฑ ุงููุดุชุฑูุงุช
- `id`, `purchase_invoice_id`, `product_id`
- `quantity`, `cost_price_per_unit`, `total_cost`

#### ๐ฆ batches
ุฏูุนุงุช ุงููุฎุฒูู (FIFO)
- `id`, `product_id`, `qty`, `remaining`, `unit_cost`
- `status` (active, consumed, reverted, returned)

#### ๐ purchase_returns
ูุฑุชุฌุนุงุช ุงููุดุชุฑูุงุช
- `id`, `return_number`, `purchase_invoice_id`
- `return_type`, `return_reason`, `status`

#### ๐ invoices_out
ููุงุชูุฑ ุงููุจูุนุงุช
- `id`, `customer_id`, `total_before_discount`
- `discount_amount`, `total_after_discount`

---

## ๐ ุงูุงุณุชุฎุฏุงู

### ุฅูุดุงุก ูุงุชูุฑุฉ ุดุฑุงุก ุฌุฏูุฏุฉ

1. ุงุฐูุจ ุฅูู **ุงููุดุชุฑูุงุช** โ **ููุงุชูุฑ ุงููุดุชุฑูุงุช**
2. ุงุถุบุท ุนูู **ูุงุชูุฑุฉ ุดุฑุงุก ุฌุฏูุฏุฉ**
3. ุงุฎุชุฑ ุงูููุฑุฏ
4. ุฃุถู ุงูููุชุฌุงุช ูุงููููุงุช
5. ุงุญูุธ ุงููุงุชูุฑุฉ
6. ุงุถุบุท **ุงุณุชูุงู** ูุฅุถุงูุฉ ุงูููุชุฌุงุช ูููุฎุฒูู

### ุฅูุดุงุก ูุงุชูุฑุฉ ุจูุน

1. ุงุฐูุจ ุฅูู **ุงููุจูุนุงุช** โ **ููุงุชูุฑ ุงูุจูุน**
2. ุงุฎุชุฑ ุงูุนููู
3. ุฃุถู ุงูููุชุฌุงุช (ุณูุชู ุฎุตููุง ูู ุฃูุฏู ุฏูุนุฉ - FIFO)
4. ุทุจูู ุงูุฎุตููุงุช ุฅู ูุฌุฏุช
5. ุงุญูุธ ุงููุงุชูุฑุฉ

### ุนูู ูุฑุชุฌุน ูุดุชุฑูุงุช

1. ุงุฐูุจ ุฅูู **ุงููุดุชุฑูุงุช** โ **ุงููุฑุชุฌุนุงุช**
2. ุงุถุบุท **ูุฑุชุฌุน ุฌุฏูุฏ**
3. ุงุฎุชุฑ ุงููุงุชูุฑุฉ ุงูุฃุตููุฉ
4. ุญุฏุฏ ุงูููุชุฌุงุช ูุงููููุงุช ุงูููุฑุฌุนุฉ
5. ุญุฏุฏ ุณุจุจ ุงูุฅุฑุฌุงุน
6. ุงุญูุธ ุงููุฑุชุฌุน

---

## ๐ ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ุฎุทุฃ: "Unexpected token '<', "<br />" is not valid JSON"
**ุงูุณุจุจ:** ุฌุฏุงูู ุงููุฑุชุฌุนุงุช ุบูุฑ ููุฌูุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงูุญู:**
```bash
mysql -u root -p migration_store < sql/create_purchase_returns_tables.sql
```

### ุฎุทุฃ: "ุบูุฑ ูุตุฑุญ ุจุงููุตูู"
**ุงูุณุจุจ:** ุงูุชูุช ุฌูุณุฉ ุงููุณุชุฎุฏู

**ุงูุญู:** ุฃุนุฏ ุชุณุฌูู ุงูุฏุฎูู

---

## ๐ค ุงููุณุงููุฉ

ูุฑุญุจ ุจูุณุงููุงุชู! ูุฅุถุงูุฉ ููุฒุฉ ุฌุฏูุฏุฉ ุฃู ุฅุตูุงุญ ุฎุทุฃ:

1. Fork ุงููุดุฑูุน
2. ุฃูุดุฆ ูุฑุน ููููุฒุฉ (`git checkout -b feature/AmazingFeature`)
3. Commit ุงูุชุบููุฑุงุช (`git commit -m 'Add some AmazingFeature'`)
4. Push ูููุฑุน (`git push origin feature/AmazingFeature`)
5. ุงูุชุญ Pull Request

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช [MIT License](LICENSE)

---

## ๐จโ๐ป ุงููุทูุฑูู

- **Mostafa Hessen** - [GitHub](https://github.com/mostafa-hessen)

---

## ๐ง ุงูุฏุนู

ููุฏุนู ูุงูุงุณุชูุณุงุฑุงุชุ ููููู:
- ูุชุญ [Issue](https://github.com/mostafa-hessen/devopmetn_store_managment/issues)
- ุงูุชูุงุตู ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

---

## ๐ ุงูุชุญุฏูุซุงุช ุงููุงุฏูุฉ

- [ ] ูุธุงู ุงูุจุงุฑููุฏ
- [ ] ุชุทุจูู ููุจุงูู
- [ ] ุชูุงูู ูุน ุฃูุธูุฉ ุงูุฏูุน ุงูุฅููุชุฑููู
- [ ] ูุธุงู ุงูุฅุดุนุงุฑุงุช
- [ ] ุชูุงุฑูุฑ PDF
- [ ] Multi-language Support

---

โญ **ุฅุฐุง ุฃุนุฌุจู ุงููุดุฑูุนุ ูุง ุชูุณู ุนูู Star!**
